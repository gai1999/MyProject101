{% extends 'blog/base.html' %}

{% block style %}
    <style type="text/css">
        #list_type {

            font-size: 16px;
        }

        .post {
            border-bottom-width: 1px;
            margin-bottom: 10px;
            padding: 5px;
        }

        .post span, .post p {
            font-size: 14px;
        }

        .post p {
            margin-top: 0.2rem;
        }

        #paginator {
            position: relative;
            float: right;
            margin: 20px 20px 0 0;
        }

    </style>
{% endblock %}

{% block title %}
    {% if tag %}
        标签页: {{ tag.name }}
    {% elif category %}
        分类页: {{ category.name }}
    {% else %}
        首页
    {% endif %}
{% endblock %}



{% block content %}
    {% if tag %}
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">按标签</li>
                <li class="breadcrumb-item active"
                    aria-current="page">{{ tag.name }}
                </li>
            </ol>
        </nav>
    {% elif category %}
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item">按类别</li>
                <li class="breadcrumb-item active" aria-current="page">{{ category.name }}
                </li>
            </ol>
        </nav>
    {% endif %}

    {% for post in postlist %}
        <div class="card post">
            <div class="card-body">
                <h5 class="catd-title"><a
                        href="{% url 'post' post.id %}">{{ post.title }}</a>
                </h5>
                <span class="card-link">作者: <a
                        href="javascript:return false">{{ post.owner.username }}</a></span>
                <span class="card-link">分类: <a
                        href="{% url 'category' post.category.id %}">{{ post.category.name }}</a></span>
                <span class="card-link">标签:
                    {% for tag in post.tag.all %}
                        <a href="{% url 'tag' tag.id %}">{{ tag.name }}</a>
                    {% endfor %}
                </span>
                <span class="card-link">更新时间: {{ post.created_time }}</span>
                <p class="card-text">{{ post.desc }} <a
                        href="{% url 'post' post.id %}"> 详情>></a></p>

            </div>

        </div>
    {% endfor %}


    <div id="paginator">
        {% if page_obj %}

            {% if page_obj.has_previous %}
                <span><a
                        href="?page={{ page_obj.previous_page_number }}">上一页</a></span>
            {% endif %}
            <span>第{{ page_obj.number }}页 / 共{{ paginator.num_pages }}页.</span>
            {% if page_obj.has_next %}
                <span><a
                        href="?page={{ page_obj.next_page_number }}">下一页</a></span>

            {% endif %}

        {% endif %}
    </div>

{% endblock %}
